---
title: Azure Service Bus iletileri, yükler ve seri hale getirme | Microsoft Docs
description: Service Bus ileti yüklerini genel bakış
services: service-bus-messaging
documentationcenter: ''
author: axisc
manager: timlt
editor: spelluru
ms.service: service-bus-messaging
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/26/2018
ms.author: aschhab
ms.openlocfilehash: 3158f0255810c66605d28856133112181c2916db
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/13/2019
ms.locfileid: "61315648"
---
# <a name="messages-payloads-and-serialization"></a>İletiler, yükler ve serileştirme

Microsoft Azure Service Bus iletileri işler. İleti yükü açıklayan ve Service Bus ve uygulamalar için işleme yönergeleri veren anahtar-değer çifti özellikler biçiminde meta veriler yanı sıra bir yük getirir. Bazen, tek başına bu meta veri gönderen, alıcılar için iletişim kurmak ister bilgilerini taşımak yeterli ve yükü boş kalır.

.NET ve Java için resmi hizmet veri yolu istemci nesne modeli, Service Bus destekler kablo protokolleri gelen ve giden eşlenen Service Bus ileti yapı Özet yansıtır.
 
Service Bus, hiçbir zaman herhangi bir hizmet tarafı formunda ve iki özellik kümeleri işleyen bir ikili yük bölümün bir Service Bus ileti oluşur. *Aracı özellikleri* sistem tarafından önceden tanımlanmıştır. Bu önceden tanımlanmış özellikler ya da aracı içinde ileti düzeyi işlevselliği denetleyen veya bunlar ortak ve standartlaştırılmış bir meta veri öğelerini eşleyebilirsiniz. *Kullanıcı özelliklerini* tanımlanan ve uygulama tarafından ayarlanıp anahtar-değer çiftlerinden oluşan bir koleksiyondur.
 
Önceden tanımlanmış aracı özellikleri aşağıdaki tabloda listelenmiştir. Adlar, tüm resmi istemci API'leri ile kullanılır ve ayrıca [BrokerProperties](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage) JSON nesnesi HTTP protokolü eşlemesi.
 
AMQP protokol düzeyinde kullanılan eşdeğer adları ayraç içinde listelenmiştir. 

| Özellik Adı                         | Açıklama                                                                                                                                                                                                                                                                                                                                                                                                                               |
|---------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  [ContentType](/dotnet/api/microsoft.azure.servicebus.message.contenttype) (içerik-tür)           | İsteğe bağlı olarak, iletinin yükü RFC2045, 5. bölüm biçimi şu tanımlayıcı ile açıklar; Örneğin, `application/json`.                                                                                                                                                                                                                                                                                             |
|  [Correlationıd](/dotnet/api/microsoft.azure.servicebus.message.correlationid#Microsoft_Azure_ServiceBus_Message_CorrelationId) (bağıntı kimliği)       | İleti için bir bağlam amacıyla bağıntı belirtmek bir uygulama sağlar; Örneğin, yansıtma **MessageID** için yanıtlanamadığından bir ileti.                                                                                                                                                                                                                                                                  |
| [DeadLetterSource](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.deadlettersource)                      | Yalnızca eski lettered ve daha sonra otomatik-forwarded edilemeyen kuyruğu'ndan başka bir varlıkla iletileri ayarlayın. Varlık, eski lettered ileti gösterir. Bu özellik salt okunurdur.                                                                                                                                                                                                                                  |
| [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.deliverycount)                         | Bu ileti için yapılmaya çalışılan teslimat sayısı. Sayı, bir iletinin kilit süresi ya da ileti alıcı tarafından açıkça terk artırılır. Bu özellik salt okunurdur.                                                                                                                                                                                                                                                  |
| [EnqueuedSequenceNumber](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.enqueuedsequencenumber)                | Otomatik iletimli olan iletileri için bu özelliği ilk ileti gönderimi kendi özgün noktada için atanmış bir sıra numarası yansıtır. Bu özellik salt okunurdur.                                                                                                                                                                                                                                                                |
| [EnqueuedTimeUtc](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.enqueuedtimeutc)                       | Hangi ileti kabul etti ve varlık içinde depolanan UTC anlık. Alıcı, gönderenin saat güven istemediği gerektiğinde bu değeri bir yetkili ve nötr varış zamanı göstergesi kullanılabilir. Bu özellik salt okunurdur.                                                                                                                                                                                                   |
|  [ExpiresAtUtc](/dotnet/api/microsoft.azure.servicebus.message.expiresatutc) (mutlak bitiş zamanı) | İleti Temizleme için işaretlendi ve kendi süre sonu nedeniyle varlık alma artık kullanılabilir olduğu UTC anlık. Süre sonu tarafından denetlenir **TimeToLive** bu özellik ve EnqueuedTimeUtc + TimeToLive hesaplanır. Bu özellik salt okunurdur.                                                                                                                                                                           |
| [ForcePersistence](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.forcepersistence)                      | Kuyruklar veya konular sahip için [EnableExpress](/dotnet/api/microsoft.servicebus.messaging.queuedescription.enableexpress) bayrağı ayarlanmış, bu özellik, iletinin kalıcı olduğunu belirtmek için ayarlanabilir kabul edildikten önce diske. Bu, tüm express dışı varlıklar için standart davranıştır.                                                                                                                                                                                                         |
| [Etiket](/dotnet/api/microsoft.azure.servicebus.message.label) (konu)                       | Bu özellik, benzer bir e-posta konusu için standartlaştırılmış bir şekilde alıcı iletiyi amacını belirtmek uygulamanın sağlar.                                                                                                                                                                                                                                                                                  |
| [LockedUntilUtc](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.lockeduntilutc)                        | Kilidi altındayken alınan iletiler için (gözlem kilidi alma modu, önceden kapatılmamış) kadar ileti tutulan anlık UTC kilitli kuyruk/abonelikte bu özellik yansıtır. Kilit süresi dolduğunda [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.deliverycount) artırılır ve ileti tekrar alma işlemi için kullanılabilir. Bu özellik salt okunurdur.                                                                                                                         |
| [LockToken](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.locktoken)                             | Kilit belirteci aracısı tarafından tutulan bir kilit bir başvurudur *gözlem kilidi* modunu alır. Kalıcı olarak ile kilit sabitlemek için belirteci kullanılabilir [erteleme](message-deferral.md) API ve ile normal teslim durumu akışı dışında iletisi alır. Bu özellik salt okunurdur.                                                                                                                                                               |
| [MessageID](/dotnet/api/microsoft.azure.servicebus.message.messageid) (ileti kimliği)                | İleti tanımlayıcısı ileti ve yük benzersiz olarak tanımlayan bir uygulama tanımlı bir değerdir. Tanımlayıcı bir serbest biçimli dize ve bir GUID veya uygulama bağlamından türetilen bir tanımlayıcı yansıtabilir. Etkinleştirilirse, [yinelenen algılama](duplicate-detection.md) özelliğini tanımlar ve saniye ve daha fazla aynı ileti teslimini kaldırır **MessageID**.                                                                |
| [partitionKey](/dotnet/api/microsoft.azure.servicebus.message.partitionkey)                          | İçin [bölümlenmiş varlıklar](service-bus-partitioning.md), bu değer ayarlandığında sağlar atama ilgili iletiler aynı iç bölüme, böylece gönderme sırası sipariş doğru şekilde kaydedilir. Bölümü, bu değerin üzerine bir karma işlev tarafından seçilir ve doğrudan seçilemez. Oturum durumunu algılayan varlıklar için **SessionID** özelliğini bu değer geçersiz kılar.                                                                                                       |
| [ReplyTo](/dotnet/api/microsoft.azure.servicebus.message.replyto) (Yanıtla)                    | Bu isteğe bağlıdır ve uygulama tanımlı değer, ileti alıcısı yanıt yolunu ifade etmek için standart bir yoludur. Bir gönderici bir yanıt bekler, kuyruk veya konuda yanıt gönderilmesini bekler mutlak veya göreli yoluna değeri ayarlar.                                                                                                                                           |
| [ReplyToSessionId](/dotnet/api/microsoft.azure.servicebus.message.replytosessionid) (yanıt-için-group-ID)  | Bu değer artırmaktadır **ReplyTo** bilgi ve belirten **SessionID** yanıt varlığa gönderildiğinde yanıtı ayarlanması gerekir.                                                                                                                                                                                                                                                                            |
| [ScheduledEnqueueTimeUtc](/dotnet/api/microsoft.azure.servicebus.message.scheduledenqueuetimeutc)               | Yalnızca bir gecikmeden sonra almak için kullanılabilir yapılır iletileri için bu özellik, ileti sıraya alınan, sıralı ve bu nedenle alma işlemi için kullanılabilir hale mantıksal olarak olacaktır UTC anlık tanımlar.                                                                                                                                                                                                                 |
| [sequenceNumber](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sequencenumber)                        | Bir iletiyi kabul edilir ve işlevleri ve Aracısı true, tanımlayıcı olarak depolanan olarak atanmış bir benzersiz bir 64-bit tamsayı dizisi sayısıdır. Bölümlenen varlıklar için bölüm tanımlayıcısı üst 16 bit yansıtır. Sıra numaraları tekdüze artırın ve gapless. 48 64 bit aralığı kaldığında, bir 0 olarak geçir. Bu özellik salt okunurdur.                                                                |
| [SessionID](/dotnet/api/microsoft.azure.servicebus.message.sessionid) (Grup Kimliği)                  | Oturum durumunu algılayan varlıklar için bu uygulama tanımlı değer iletinin oturum benzeşimi belirtir. İletiler aynı oturum tanımlayıcıyı içeren Özet kilitleme tabidir ve tam işleme ve azaltma sırayla etkinleştirin. Oturum uyumlu olmayan varlıklar için bu değer yoksayılır.                                                                                                                                     |
| [Boyut](/dotnet/api/microsoft.azure.servicebus.message.size)                                  | Depolama kota hesaplamanıza dahil saymasını iletinin bayt sayısı olarak Aracısı günlüğünde saklanan boyutunu yansıtır. Bu özellik salt okunurdur.                                                                                                                                                                                                                                                                                                       |
| [State](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.state)                                 | İleti günlüğünde durumunu gösterir. Bu özellik, yalnızca ileti sırasında ("Özet"), göz atma ertelenmiştir veya zamanlanmış bekleniyor, sıranın üstüne ulaşana gibi bir ileti "etkin" ve alma için kullanılabilir olup olmadığını belirlemek için geçerlidir. Bu özellik salt okunurdur.                                                                                                                                           |
| [TimeToLive](/dotnet/api/microsoft.azure.servicebus.message.timetolive)                            | Bu değer daha sonra iletinin geçerlilik süresinin göreli süre, anlık ileti başlangıç kabul etti ve yakalanan aracısı tarafından depolanan **EnqueueTimeUtc**. Açıkça ayarlandığında değil, varsayılan değerdir **DefaultTimeToLive** ilgili kuyruk veya konu. İleti düzeyi **TimeToLive** değeri, varlığın uzun olamaz **DefaultTimeToLive** ayarı. Uzunsa, sessiz bir şekilde ayarlanır. |
| [İçin](/dotnet/api/microsoft.azure.servicebus.message.to) (Bitiş)                               | Bu özellik yönlendirme senaryolarda gelecekte kullanım için ayrılmıştır ve şu anda aracısı tarafından yok sayıldı. Uygulamalar bu değer, iletinin amaçlanan mantıksal hedef belirtmek için kural tabanlı otomatik iletme zincirleme senaryolarda kullanabilirsiniz.                                                                                                                                                                                   |
| [ViaPartitionKey](/dotnet/api/microsoft.azure.servicebus.message.viapartitionkey)                       | Bir işlem kapsam içinde bir aktarım kuyruk aracılığıyla bir ileti gönderildiğinde, bu değer aktarma sırası bölümün seçer.                                                                                                                                                                                                                                                                                                                 |

Soyut ileti modeli, HTTP (gerçekten her zaman HTTPS) üzerinden bir kuyruğa gönderilecek ileti sağlar ve AMQP alınabilir. Her iki durumda da ileti ilgili Protokolü bağlamında normal görünüyor. Aracısı özelliklerini gerektiği gibi çevrilir ve kullanıcı özelliklerini ilgili protokolü ileti modeli en uygun konumu eşlenir. Doğrudan gelen ve giden HTTP üstbilgileri harita kullanıcı özellikleri HTTP, AMQP bunların kitaplıklarından eşleneceğine **uygulama özellikleri** eşleme.

## <a name="message-routing-and-correlation"></a>İleti Yönlendirme ve bağıntı

Daha önce özellikle açıklanan Aracısı özellikler kümesini [için](/dotnet/api/microsoft.azure.servicebus.message.to), [ReplyTo](/dotnet/api/microsoft.azure.servicebus.message.replyto), [ReplyToSessionId](/dotnet/api/microsoft.azure.servicebus.message.replytosessionid), [MessageID](/dotnet/api/microsoft.azure.servicebus.message.messageid), [ Correlationıd](/dotnet/api/microsoft.azure.servicebus.message.correlationid), ve [SessionID](/dotnet/api/microsoft.azure.servicebus.message.sessionid), belirli hedeflere iletileri yönlendirmek uygulamaları yardımcı olmak için kullanılır. Bunu açıklamak üzere birkaç desen göz önünde bulundurun:

- **Basit istek/yanıt**: Bir yayımcı, kuyruğa bir ileti gönderir ve bir yanıt iletisi bekliyor. Yanıt almak için hangi yanıtların teslim edilecek bekliyor bir kuyruk yayımcı sahip. Bu kuyruğun adresi gösterdiğini **ReplyTo** Giden iletinin özelliği. Tüketici yanıtladığında Bu kopyalar **MessageID** işlenmiş iletisinin **Correlationıd** özelliği yanıt iletisi ve ileti hedef tarafındanbelirtilenileeldeedecekleriniz**ReplyTo** özelliği. Bir ileti uygulaması bağlama bağlı olarak birden çok yanıt sağlayabilir.
- **Çok noktaya yayın istek/yanıt**: Önceki Düzen çeşitlemesi, bir yayımcı bir konuya ileti gönderir ve birden fazla aboneye iletiyi kullanmak uygun hale gelir. Her abonelerin, daha önce açıklanan şekilde yanıt verebilir. Bulma veya çağrı döndürmesi senaryolarda bu düzeni kullanılır ve katılımcı genellikle kendisini yük içine veya bir kullanıcı özelliği tanımlar. Varsa **ReplyTo** bir konuya bulma yanıtları gibi bir dizi noktaları, bir kitleye dağıtılabilir.
- **Çoğullama**: Bu oturumu özellik sağlar bir tek bir kuyrukta veya abonelikte aracılığıyla ilgili ileti akışları her oturum (veya grup) ilgili iletiler, tanımlanan şekilde eşleştirerek çoğullama **SessionID** değerleri yönlendirilir bir Alıcı oturumun kilidi altında tutan sırada belirli alıcı. Oturumlarının ayrıntıları hakkında daha fazla bilgiyi [burada](message-sessions.md).
- **İstek/yanıt Multiplexed**: Bu oturumu özellik bir yanıt kuyruğu paylaşmak birkaç yayımcılar izin vererek, çoklu yanıtları sağlar. Ayarlayarak **ReplyToSessionId**, yayımcı, bu değeri içine kopyalamak için consumer(s) söyleyebilirsiniz **SessionID** özelliği yanıt iletisi. Yayımlama kuyruğun veya konunun oturumu haberdar olmanız gerekmez. İletinin gönderildiği gibi yayımcı ardından özellikle bir oturumla bekleyebilirsiniz verilen **SessionID** oturumu alıcı koşullu olarak kabul ederek kuyrukta iyileştirilene. 

Bir Service Bus ad alanı içinde yönlendirme otomatik iletme zincirleme ve konu aboneliği kurallarını kullanarak alırlar. Ad alanları geneline yönlendirme gerçekleşen [Azure LogicApps kullanarak](https://azure.microsoft.com/services/logic-apps/). Önceki listede gösterildiği gibi **için** özelliği ileride kullanılmak üzere ayrılmıştır ve sonunda özel etkin bir özellik ile aracısı tarafından yorumlanacağını. Yönlendirme uygulamak istediğiniz uygulamalar kullanıcı özelliklerini temel yapın ve üzerinde Yasla değil **için** özelliği; Bununla birlikte, artık bunu uyumluluk sorunlarına neden olmaz.

## <a name="payload-serialization"></a>Yükü seri hale getirme

Zaman Aktarımdaki veya Service Bus içinde depolanan, her zaman bir opak ve ikili bloğu yüktür. [ContentType](/dotnet/api/microsoft.azure.servicebus.message.contenttype) özelliği, IETF RFC2045 göre; MIME içerik türü açıklaması olan özellik değerlerini önerilen biçimiyle yükü açıklamak uygulamalar sağlar, `application/json;charset=utf-8`.

Java veya .NET Standard çeşitler, Service Bus API'sini .NET Framework sürümünü destekler oluşturma **BrokeredMessage** rastgele .NET nesneleri oluşturucusuna geçirerek örnekleri. 

Eski SBMP protokolünü kullanırken, ardından varsayılan ikili seri hale getirici veya harici olarak sağlanan bir seri hale getirici ile nesneleri serileştirilir. AMQP protokolünü kullanırken, nesnenin bir AMQP nesnede seri hale getirilir. Alıcı bu nesnelerle alabilirsiniz [GetBody<T>()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.getbody#Microsoft_ServiceBus_Messaging_BrokeredMessage_GetBody__1) yöntemi, beklenen tür sağlama. AMQP ile bir AMQP Graph'a nesneleri serileştirilir **ArrayList** ve **IDictionary < string, object >** nesnelerini ve herhangi bir AMQP istemcisi kod çözme bunları. 

Bu gizli serileştirme Sihirli kullanışlı olsa da, uygulamaları nesne seri hale getirme açık denetimini elinize alın ve iletiye eklemeden önce bunların nesne grafiklerini akışlara açmak ve alıcı tarafında ters yapın. Bu, birlikte çalışabilen sonuçları verir. Ayrıca AMQP güçlü bir ikili kodlama modeli olsa da AMQP Mesajlaşma ekosistemine bağlıdır ve HTTP istemcilerini bu tür yüklerini çözme sorun yaşayabilir unutulmamalıdır. 

Genel olarak JSON ve Apache Avro yapılandırılmış veriler için yük biçimleri olarak öneririz.

.NET Standard ve Java API çeşitleri yalnızca uygulamanın nesne seri hale getirme denetimi işlemesi gerekir yani bayt dizileri kabul edin. 

## <a name="next-steps"></a>Sonraki adımlar

Service Bus mesajlaşması hakkında daha fazla bilgi edinmek için aşağıdaki konulara bakın:

* [Service Bus kuyrukları, konu başlıkları ve abonelikleri](service-bus-queues-topics-subscriptions.md)
* [Service Bus kuyrukları ile çalışmaya başlama](service-bus-dotnet-get-started-with-queues.md)
* [Service Bus konu başlıklarını ve aboneliklerini kullanma](service-bus-dotnet-how-to-use-topics-subscriptions.md)
